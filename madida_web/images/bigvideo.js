!function(i){i.BigVideo=function(o){function e(){var o=i(".cti-page").width(),e=i(".cti-page").height(),t=o/e;t<b?"video"===v?(c.width(e*b).height(e),i(u).css("top",0).css("left",-(e*b-o)/2),i(u+"_html5_api").css("width",e*b),i(u+"_flash_api").css("width",e*b)):i("#big-video-image").width(e*b).height(e).css("top",0).css("left",-(e*b-o)/2):"video"===v?(c.width(o).height(o/b),i(u).css("top",-(o/b-e)/2).css("left",0),i(u+"_html5_api").css("width","100%"),i(u+"_flash_api").css("width","100%")):i("#big-video-image").width(o).height(o/b).css("top",-(o/b-e)/2).css("left",0)}function t(){var o='<div id="big-video-control-container">';o+='<div id="big-video-control">',o+='<a href="#" id="big-video-control-play"></a>',o+='<div id="big-video-control-middle">',o+='<div id="big-video-control-bar">',o+='<div id="big-video-control-bound-left"></div>',o+='<div id="big-video-control-progress"></div>',o+='<div id="big-video-control-track"></div>',o+='<div id="big-video-control-bound-right"></div>',o+="</div>",o+="</div>",o+='<div id="big-video-control-timer"></div>',o+="</div>",o+="</div>",i("body").append(o),i("#big-video-control-container").css("display","none"),i("#big-video-control-track").slider({animate:!0,step:.01,slide:function(o,e){_=!0,i("#big-video-control-progress").css("width",e.value-.16+"%"),c.currentTime(e.value/100*c.duration())},stop:function(i,o){_=!1,c.currentTime(o.value/100*c.duration())}}),i("#big-video-control-bar").click(function(o){c.currentTime(o.offsetX/i(this).width()*c.duration())}),i("#big-video-control-play").click(function(i){i.preventDefault(),d("toggle")}),c.addEvent("timeupdate",function(){if(!_&&c.currentTime()/c.duration()){var o=c.currentTime(),e=Math.floor(o/60),t=Math.floor(o)-60*e;t<10&&(t="0"+t);var d=c.currentTime()/c.duration()*100;i("#big-video-control-track").slider("value",d),i("#big-video-control-progress").css("width",d-.16+"%"),i("#big-video-control-timer").text(e+":"+t+"/"+h)}})}function d(o){var e=o||"toggle";"toggle"===e&&(e=w?"pause":"play"),"pause"===e?(c.pause(),i("#big-video-control-play").css("background-position","-16px"),w=!1):"play"===e&&(c.play(),i("#big-video-control-play").css("background-position","0"),w=!0)}function n(){c.play(),i("body").off("click",n)}function a(){l++,l===j.length&&(l=0),s(j[l])}function s(o){i(u).css("display","block"),v="video",c.src(o),w=!0,x?(i("#big-video-control-container").css("display","none"),c.volume(0),T=!0):(i("#big-video-control-container").css("display","block"),c.volume(m),T=!1)}function r(o){i("#big-video-image").remove(),c.pause(),i(u).css("display","none"),i("#big-video-control-container").css("display","none"),v="image";var t=i('<img id="big-video-image" src='+o+" />");f.append(t),i("#big-video-image").imagesLoaded(function(){b=i("#big-video-image").width()/i("#big-video-image").height(),e()})}var c,l,v,g={useFlashForFirefox:!0,forceAutoplay:!1,controls:!0},p=this,u="#big-video-vid",f=i('<div id="big-video-wrap"></div>'),b=(i(""),16/9),h=0,m=.8,y=!1,_=!1,w=!1,k=!1,x=!1,T=!1,j=[];p.settings=i.extend({},g,o);var E=navigator.userAgent.toLowerCase(),F=E.indexOf("firefox")!=-1;p.settings.useFlashForFirefox&&F&&(VideoJS.options.techOrder=["flash"]),p.init=function(){if(!y){i(".cti-page").prepend(f);var o=p.settings.forceAutoplay?"autoplay":"";c=i('<video id="'+u.substr(1)+'" class="video-js vjs-default-skin" preload="auto" data-setup="{}" '+o+" webkit-playsinline></video>"),c.css("position","absolute"),f.append(c),c=_V_(u.substr(1),{controls:!1,autoplay:!0,preload:"auto"}),p.settings.controls&&t(),e(),y=!0,w=!1,p.settings.forceAutoplay&&i("body").on("click",n),i(window).resize(function(){e()}),c.addEvent("loadedmetadata",function(o){b=document.getElementById("big-video-vid_flash_api")?document.getElementById("big-video-vid_flash_api").vjs_getProperty("videoWidth")/document.getElementById("big-video-vid_flash_api").vjs_getProperty("videoHeight"):i("#big-video-vid_html5_api").prop("videoWidth")/i("#big-video-vid_html5_api").prop("videoHeight"),e();var t=Math.round(c.duration()),d=Math.floor(t/60),n=t-60*d;n<10&&(n="0"+n),h=d+":"+n}),c.addEvent("ended",function(){T&&(c.currentTime(0),c.play()),k&&a()})}},p.show=function(i,o){if(x=void 0!==o&&o.ambient===!0,"string"==typeof i){var e=i.substring(i.lastIndexOf(".")+1);"jpg"===e||"gif"===e||"png"===e?r(i):(s(i),k=!1)}else j=i,l=0,s(j[l]),k=!0},p.getPlayer=function(){return c}}}(jQuery);